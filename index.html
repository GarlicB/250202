<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WaveAttack MAX - 업그레이드 버전</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="introControls">
      <button id="startGame" class="game-button">게임 시작</button>
    </div>
    <canvas id="gameCanvas"></canvas>
    <!-- 옵션(디버그) 모달 -->
    <div id="optionsModal" class="modal">
      <div class="modal-header">
        <h2>🛠️ 디버그 콘솔</h2>
        <button id="closeOptions" class="close-btn">×</button>
      </div>

      <div class="modal-content">
        <div class="debug-section">
          <div class="section-header">
            <span class="section-icon">🎨</span>
            <h3>시각 효과</h3>
          </div>
          <div class="section-content">
            <div class="input-group">
              <label>배경 색상:</label>
              <input type="color" id="bgColorPicker" value="#111111" />
              <button id="applyBgColor" class="action-btn">적용</button>
            </div>
          </div>
        </div>

        <div class="debug-section">
          <div class="section-header">
            <span class="section-icon">🎯</span>
            <h3>전투 테스트</h3>
          </div>
          <div class="section-content">
            <div class="input-group">
              <label>총알 테스트:</label>
              <button id="spawnTestBullet" class="action-btn">총알 발사</button>
            </div>
            <div class="input-group">
              <label>몹 테스트:</label>
              <button id="spawnTestEnemy" class="action-btn">몹 소환</button>
            </div>
          </div>
        </div>

        <div class="debug-section">
          <div class="section-header">
            <span class="section-icon">⚡</span>
            <h3>스킬 활성화</h3>
          </div>
          <div class="section-content">
            <div class="input-group">
              <label>쿨타임 제거:</label>
              <input type="checkbox" id="removeSkillCooldown" checked />
            </div>
            <div class="input-group">
              <label>기본 총알 제거:</label>
              <input type="checkbox" id="removeBasicBullet" />
            </div>
            <div class="skill-grid">
              <div class="skill-item">
                <input
                  type="checkbox"
                  id="skill_regenAura"
                  data-skill="regenAura"
                  checked
                />
                <label for="skill_regenAura">
                  <span class="skill-icon">💚</span>
                  회복 오라
                  <span class="key-hint">Q</span>
                </label>
              </div>
              <div class="skill-item">
                <input
                  type="checkbox"
                  id="skill_homingLaser"
                  data-skill="homingLaser"
                  checked
                />
                <label for="skill_homingLaser">
                  <span class="skill-icon">🎯</span>
                  레이저 빔
                  <span class="key-hint">W</span>
                </label>
              </div>
              <div class="skill-item">
                <input
                  type="checkbox"
                  id="skill_chainLightning"
                  data-skill="chainLightning"
                  checked
                />
                <label for="skill_chainLightning">
                  <span class="skill-icon">⚡</span>
                  연쇄 번개
                  <span class="key-hint">E</span>
                </label>
              </div>
              <div class="skill-item">
                <input
                  type="checkbox"
                  id="skill_meteorShower"
                  data-skill="meteorShower"
                  checked
                />
                <label for="skill_meteorShower">
                  <span class="skill-icon">☄️</span>
                  메테오
                  <span class="key-hint">R</span>
                </label>
              </div>
            </div>
          </div>
        </div>

        <div class="debug-section">
          <div class="section-header">
            <span class="section-icon">📊</span>
            <h3>게임 진행</h3>
          </div>
          <div class="section-content">
            <div class="input-group">
              <label>레벨업 테스트:</label>
              <button id="simulateLevelUp" class="action-btn">레벨업</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <button id="debugButton">
      <span class="debug-icon">🛠️</span>
      디버그
    </button>

    <!-- 모바일 컨트롤 UI -->
    <div id="mobileControls">
      <!-- Q 스킬 버튼 (회복 오라) -->
      <button id="qSkillBtn" class="skill-button skill-button-left">
        <span class="skill-icon">💚</span>
        Q
        <div class="cooldown-overlay"></div>
      </button>

      <!-- W 스킬 버튼 (차지 공격) -->
      <button id="wSkillBtn" class="skill-button skill-button-left">
        <span class="skill-icon">🎯</span>
        W
        <div class="charge-bar"></div>
        <div class="cooldown-overlay"></div>
      </button>

      <!-- 가상 조이스틱 -->
      <div id="joystickArea">
        <div id="joystickBase"></div>
        <div id="joystickHandle"></div>
      </div>
    </div>

    <script type="module">
      import { Game } from "./js/core/Game.js";
      const game = new Game();
    </script>
  </body>
</html>
